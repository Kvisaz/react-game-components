import{j as s}from"./jsx-runtime-CkxqCPlQ.js";import{r as m}from"./index-DJO9vBfz.js";const L="_box_klsgg_13",S="_head_klsgg_35",B="_todoList_klsgg_47",v="_todo_klsgg_47",E="_todoText_klsgg_91",I="_todoLabel_klsgg_109",A="_todoCheck_klsgg_165",D="_todoButton_klsgg_231",O="_form_klsgg_251",w="_formTextarea_klsgg_263",J="_formButton_klsgg_281",a={box:L,head:S,todoList:B,todo:v,todoText:E,todoLabel:I,todoCheck:A,todoButton:D,form:O,formTextarea:w,formButton:J},_=(n,r)=>({text:n,isChecked:!1,key:"todo_"+(r+1)+"_"+n.slice(0,10).replace(/ /g,"")}),b=({initialItems:n})=>{const[r,d]=m.useState(()=>{const t=localStorage.getItem("todo_list");return t!==null?JSON.parse(t):n!==void 0?n.map((e,o)=>_(e,o)):[]}),[i,g]=m.useState("");m.useEffect(()=>{localStorage.setItem("todo_list",JSON.stringify(r))},[r]);const y=(t,e)=>{d(r.map(o=>o.key===t?{...o,isChecked:e}:o))},T=(t,e)=>{d(r.filter((o,C)=>C!==t&&o.key!==e))},j=t=>{g(t.target.value)},N=t=>{t.preventDefault();const e=i.trim();if(e!==""){const o=[...r];o.push(_(e,o.length)),d(o),console.log("added todo: ",r[r.length-1]),g("")}};return s.jsxs("div",{className:a.box,children:[s.jsx("h1",{className:a.head,children:"Todo List"}),s.jsx("ul",{className:a.todoList,children:r.map((t,e)=>s.jsxs("li",{className:a.todo,children:[s.jsx("input",{className:a.todoCheck,id:t.key+"_checkbox"+e,type:"checkbox",onChange:o=>y(t.key,o.target.checked)}),s.jsx("p",{className:a.todoText,children:t.text}),s.jsx("label",{className:a.todoLabel,htmlFor:t.key+"_checkbox"+e}),s.jsx("button",{className:a.todoButton,onClick:()=>T(e,t.key),children:"Удалить"})]},t.key+e))}),s.jsxs("form",{className:a.form,onSubmit:N,children:[s.jsx("textarea",{className:a.formTextarea,value:i,onChange:j}),s.jsx("button",{type:"submit",className:a.formButton,children:"Добавить"})]})]})};b.__docgenInfo={description:"",methods:[],displayName:"TodoList",props:{initialItems:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},description:""}}};const F={title:"Components/006-14-09-2024-react-katas/TodoList",component:b,argTypes:{initialItems:{control:"object"}}},c={args:{initialItems:["Помыть посуду","Убраться в спальне","Проверить почту"]}},l={args:{}};var u,h,p;c.parameters={...c.parameters,docs:{...(u=c.parameters)==null?void 0:u.docs,source:{originalSource:`{
  args: {
    initialItems: ["Помыть посуду", "Убраться в спальне", "Проверить почту"]
  }
}`,...(p=(h=c.parameters)==null?void 0:h.docs)==null?void 0:p.source}}};var x,k,f;l.parameters={...l.parameters,docs:{...(x=l.parameters)==null?void 0:x.docs,source:{originalSource:`{
  args: {}
}`,...(f=(k=l.parameters)==null?void 0:k.docs)==null?void 0:f.source}}};const R=["Default","EmptyArgs"];export{c as Default,l as EmptyArgs,R as __namedExportsOrder,F as default};
