import{j as s}from"./jsx-runtime-CkxqCPlQ.js";import{r}from"./index-DJO9vBfz.js";const u="_box_klsgg_13",f="_head_klsgg_35",p="_todoList_klsgg_47",b="_todo_klsgg_47",T="_todoText_klsgg_91",y="_todoLabel_klsgg_109",N="_todoCheck_klsgg_165",j="_todoButton_klsgg_231",C="_form_klsgg_251",L="_formTextarea_klsgg_263",B="_formButton_klsgg_281",a={box:u,head:f,todoList:p,todo:b,todoText:T,todoLabel:y,todoCheck:N,todoButton:j,form:C,formTextarea:L,formButton:B},i=(l,n)=>({text:l,isChecked:!1,key:"todo_"+(n+1)+"_"+l.slice(0,10).replace(/ /g,"")}),S=({initialItems:l})=>{const[n,c]=r.useState(()=>{const t=localStorage.getItem("todo_list");return t!==null?JSON.parse(t):l!==void 0?l.map((o,e)=>i(o,e)):[]}),[d,m]=r.useState("");r.useEffect(()=>{localStorage.setItem("todo_list",JSON.stringify(n))},[n]);const _=(t,o)=>{c(n.map(e=>e.key===t?{...e,isChecked:o}:e))},g=(t,o)=>{c(n.filter((e,k)=>k!==t&&e.key!==o))},h=t=>{m(t.target.value)},x=t=>{t.preventDefault();const o=d.trim();if(o!==""){const e=[...n];e.push(i(o,e.length)),c(e),console.log("added todo: ",n[n.length-1]),m("")}};return s.jsxs("div",{className:a.box,children:[s.jsx("h1",{className:a.head,children:"Todo List"}),s.jsx("ul",{className:a.todoList,children:n.map((t,o)=>s.jsxs("li",{className:a.todo,children:[s.jsx("input",{className:a.todoCheck,id:t.key+"_checkbox"+o,type:"checkbox",onChange:e=>_(t.key,e.target.checked)}),s.jsx("p",{className:a.todoText,children:t.text}),s.jsx("label",{className:a.todoLabel,htmlFor:t.key+"_checkbox"+o}),s.jsx("button",{className:a.todoButton,onClick:()=>g(o,t.key),children:"Удалить"})]},t.key+o))}),s.jsxs("form",{className:a.form,onSubmit:x,children:[s.jsx("textarea",{className:a.formTextarea,value:d,onChange:h}),s.jsx("button",{type:"submit",className:a.formButton,children:"Добавить"})]})]})};S.__docgenInfo={description:"",methods:[],displayName:"TodoList",props:{initialItems:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},description:""}}};export{S as T};
